<!DOCTYPE html>
<html dir="ltr" lang="ru-RU">
<head>
<meta charset="UTF-8" />
<title></title>
<script type="text/javascript" src="http://code.jquery.com/jquery-1.8.3.js"></script>
<div id="image"></div>

<script type="text/javascript" >
    $(function() {
        $.ajax({
            crossDomain : true,
            dataType: 'jsonp',
            jsonpCallback :  'callback' ,
//            jsonp :  false ,
            //format: 'js',
            url: 'http://localhost:3000/get_banner/',
            type: 'get',
            success: function(data) {
                $('#image').html('<a id="banner" onclick="counter_clicks()" data-id="'+ data.id +'" href="' + '#' + '"><img src="http://localhost:3000/' + data.image_url +'"></a>');

            }
        });


        //$.get("http://localhost:3000/campaigns/1/counter_clicks/",{crossDomain : true, dataType: 'jsonp',jsonpCallback :  'callback'})

    });
    function counter_clicks() {
        var id = $('#banner').attr('data-id')
        $.ajax({
            crossDomain : true,
            dataType: 'jsonp',
            //jsonpCallback :  'callback' ,
            url: 'http://localhost:3000/campaigns/'+id+'/counter_clicks/',
            type: 'put',
            success: function(data) {
                console.log(data)
            }
        });

    }

</script>

</head>
<body>
Контент моей страницы
</body>
<html>